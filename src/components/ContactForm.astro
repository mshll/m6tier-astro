---
import { Textarea } from '~/components/ui/textarea';
import { Button } from '~/components/ui/button';
import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '~/components/ui/card';
import { Input } from '~/components/ui/input';
import { Label } from '~/components/ui/label';
import Link from '~/components/Link.astro';
---

<style is:global>
  .pageclip-form {
    position: relative;
  }
  .pageclip-form__success {
    @apply bg-background;
    position: absolute;
    top: -1px;
    left: -1px;
    right: -1px;
    bottom: -1px;
    text-align: center;
    z-index: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  .pageclip-form__success__message {
    @apply font-sans font-semibold;
    font-size: 2rem;
    text-align: center;
    transform-origin: center;
    animation: 0.3s linear none a;
  }
  .pageclip-form__submit {
    position: relative;
  }
  .pageclip-form__submit:after {
    display: inline-block;
    position: relative;
    text-indent: -9999em;
    border: 3px solid hsl(var(--card));
    border-left: 3px solid hsl(var(--background));
    transform: scale(0.01) translateZ(0);
    border-radius: 50%;
    width: 20px;
    height: 20px;
    content: '';
    position: absolute;
    left: 50%;
    top: 50%;
    margin-left: -10px;
    margin-top: -10px;
    z-index: 2;
  }
  .pageclip-form__submit.pageclip-form__submit--start-loading:after {
    animation: 0.1s linear none a;
  }
  .pageclip-form__submit.pageclip-form__submit--start-loading > span {
    animation: 0.1s linear none c;
  }
  .pageclip-form__submit.pageclip-form__submit--loading:after {
    transform: translateZ(0);
    animation: 1.2s linear infinite d;
  }
  .pageclip-form__submit.pageclip-form__submit--loading > span {
    opacity: 0;
  }
  .pageclip-form__submit.pageclip-form__submit--end-loading:after {
    animation: 0.1s linear none b;
  }
  .pageclip-form__submit.pageclip-form__submit--end-loading > span {
    animation: 0.1s linear reverse c;
  }
  @keyframes a {
    0% {
      transform: scale(0.01) translateZ(0);
    }
    50% {
      transform: scale(1.2) translateZ(0);
    }
    to {
      transform: scale(1) translateZ(0);
    }
  }
  @keyframes b {
    0% {
      transform: scale(1) translateZ(0);
    }
    to {
      transform: scale(0.01) translateZ(0);
    }
  }
  @keyframes c {
    0% {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }
  @keyframes d {
    0% {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(1turn);
    }
  }
</style>

<Card className="w-full md:space-y-2 border-border text-start">
  <!-- <CardHeader>
    <CardTitle className="text-2xl font-bold">Contact me</CardTitle>
    <CardDescription>
      Fill out the form below or send me an email at <Link href="mailto:hello@m6tier.com">
        <strong>hello@m6tier.com</strong>
      </Link>. You can also find my socials below.
    </CardDescription>
  </CardHeader> -->
  <CardContent>
    <form action="https://send.pageclip.co/6ARcWTZzcAOyqr3nv8ormuGjblrq8Bsu" class="pageclip-form pt-6" method="post">
      <div class="grid w-full items-center gap-4 md:space-y-2">
        <div class="flex flex-col space-y-1.5">
          <Label htmlFor="name" className="text-xs">Name</Label>
          <Input id="name" name="name" placeholder="Full name" required minLength={4} />
        </div>
        <div class="flex flex-col space-y-1.5">
          <Label htmlFor="email" className="text-xs">Email</Label>
          <Input
            type="email"
            id="email"
            name="email"
            placeholder="name@example.com"
            required
            pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
          />
        </div>
        <div class="flex flex-col space-y-1.5">
          <Label htmlFor="message" className="text-xs">Your message</Label>
          <Textarea placeholder="Type your message here." id="message" name="message" required minLength={10} />
        </div>
      </div>
      <div class="mt-8 flex justify-between">
        <Button type="submit" className="w-full pageclip-form__submit"><span>Submit</span></Button>
      </div>
    </form>
  </CardContent>
  <!-- <CardFooter className="flex justify-between">
    <Socials {...socialData} size="w-5 h-5" class="mx-auto space-x-4 text-muted-foreground" />
  </CardFooter> -->
</Card>

<script is:inline src="/js/pageclip.js" charset="utf-8"></script>
